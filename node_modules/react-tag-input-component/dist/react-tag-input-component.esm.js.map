{"version":3,"file":"react-tag-input-component.esm.js","sources":["../src/classnames.tsx","../src/tag.tsx","../src/index.tsx"],"sourcesContent":["/**\n * A minimal utility to combine classes\n *\n * @export\n * @param {(string[] | string)} obj\n * @returns {string}\n */\nexport default function cc(...obj: (string | number)[]): string {\n  return obj.join(\" \");\n}\n","import React from \"react\";\nimport { css } from \"goober\";\nimport cc from \"./classnames\";\n\ninterface TagProps {\n  text: string;\n  remove: any;\n}\n\nconst tagStyles = css({\n  alignItems: \"center\",\n  background: \"var(--rti-tag)\",\n  borderRadius: \"var(--rti-radius)\",\n  display: \"inline-flex\",\n  justifyContent: \"center\",\n  paddingLeft: \"var(--rti-s)\",\n\n  button: {\n    background: \"none\",\n    border: 0,\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n    lineHeight: \"inherit\",\n    padding: \"0 var(--rti-s)\",\n\n    \"&:hover\": {\n      color: \"var(--rti-tag-remove)\",\n    },\n  },\n});\n\nexport default function Tag({ text, remove }: TagProps) {\n  const handleOnRemove = e => {\n    e.stopPropagation();\n    remove(text);\n  };\n\n  return (\n    <span className={cc(\"rti--tag\", tagStyles)}>\n      <span>{text}</span>\n      <button\n        type=\"button\"\n        onClick={handleOnRemove}\n        aria-label={`remove ${text}`}\n      >\n        &#10005;\n      </button>\n    </span>\n  );\n}\n","import { css, setup } from \"goober\";\nimport React, { useEffect, useState } from \"react\";\n\nimport cc from \"./classnames\";\nimport Tag from \"./tag\";\n\nexport interface TagsInputProps {\n  name?: string;\n  placeHolder?: string;\n  value?: string[];\n  onChange?: (tags: string[]) => void;\n  onBlur?: any;\n  seprators?: string[];\n  onExisting?: (tag: string) => void;\n  onRemoved?: (tag: string) => void;\n}\n\n// initialize goober once\nsetup(React.createElement);\n\nconst RTIContainer = css({\n  \"--rtiBg\": \"#fff\",\n  \"--rtiBorder\": \"#ccc\",\n  \"--rtiMain\": \"#3182ce\",\n  \"--rtiRadius\": \"0.375rem\",\n  \"--rtiS\": \"0.5rem\",\n  \"--rtiTag\": \"#edf2f7\",\n  \"--rtiTagRemove\": \"#e53e3e\",\n\n  \"*\": {\n    boxSizing: \"border-box\",\n    transition: \"all 0.2s ease\",\n  },\n\n  alignItems: \"center\",\n  bg: \"var(--rti-bg)\",\n  border: \"1px solid var(--rti-border)\",\n  borderRadius: \"var(--rti-radius)\",\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  gap: \"var(--rti-s)\",\n  lineHeight: 1.4,\n  padding: \"var(--rti-s)\",\n\n  \"&:focus-within\": {\n    borderColor: \"var(--rti-main)\",\n    boxShadow: \"var(--rti-main) 0px 0px 0px 1px\",\n  },\n});\n\nconst RTIInput = css({\n  border: 0,\n  outline: 0,\n  fontSize: \"inherit\",\n  lineHeight: \"inherit\",\n  width: \"50%\",\n});\n\nconst defaultSeprators = [\"Enter\"];\n\nexport const TagsInput = ({\n  name,\n  placeHolder,\n  value,\n  onChange,\n  onBlur,\n  seprators,\n  onExisting,\n  onRemoved,\n}: TagsInputProps) => {\n  const [tags, setTags] = useState(value || []);\n\n  useEffect(() => {\n    onChange && onChange(tags);\n  }, [tags]);\n\n  const handleOnKeyUp = e => {\n    e.stopPropagation();\n\n    const text = e.target.value;\n\n    if (e.key === \"Backspace\" && tags.length && !text) {\n      setTags(tags.slice(0, -1));\n    }\n\n    if (text && (seprators || defaultSeprators).includes(e.key)) {\n      if (tags.includes(text)) {\n        onExisting && onExisting(text);\n        return;\n      }\n      setTags([...tags, text]);\n      e.target.value = \"\";\n      e.preventDefault();\n    }\n  };\n\n  const onTagRemove = text => {\n    setTags(tags.filter(tag => tag !== text));\n    onRemoved && onRemoved(text);\n  };\n\n  return (\n    <div aria-labelledby={name} className={cc(\"rti--container\", RTIContainer)}>\n      {tags.map(tag => (\n        <Tag key={tag} text={tag} remove={onTagRemove} />\n      ))}\n\n      <input\n        className={cc(\"rti--input\", RTIInput)}\n        type=\"text\"\n        name={name}\n        placeholder={placeHolder}\n        onKeyDown={handleOnKeyUp}\n        onBlur={onBlur}\n      />\n    </div>\n  );\n};\n"],"names":["cc","obj","join","tagStyles","css","alignItems","background","borderRadius","display","justifyContent","paddingLeft","button","border","cursor","lineHeight","padding","color","Tag","text","remove","handleOnRemove","e","stopPropagation","React","className","type","onClick","setup","createElement","RTIContainer","boxSizing","transition","bg","flexWrap","gap","borderColor","boxShadow","RTIInput","outline","fontSize","width","defaultSeprators","TagsInput","name","placeHolder","value","onChange","onBlur","seprators","onExisting","onRemoved","useState","tags","setTags","useEffect","handleOnKeyUp","target","key","length","slice","includes","preventDefault","onTagRemove","filter","tag","map","placeholder","onKeyDown"],"mappings":"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"}