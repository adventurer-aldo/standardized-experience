{"version":3,"file":"react-tag-input-component.cjs.production.min.js","sources":["../src/classnames.tsx","../src/tag.tsx","../src/index.tsx"],"sourcesContent":["/**\n * A minimal utility to combine classes\n *\n * @export\n * @param {(string[] | string)} obj\n * @returns {string}\n */\nexport default function cc(...obj: (string | number)[]): string {\n  return obj.join(\" \");\n}\n","import React from \"react\";\nimport { css } from \"goober\";\nimport cc from \"./classnames\";\n\ninterface TagProps {\n  text: string;\n  remove: any;\n}\n\nconst tagStyles = css({\n  alignItems: \"center\",\n  background: \"var(--rti-tag)\",\n  borderRadius: \"var(--rti-radius)\",\n  display: \"inline-flex\",\n  justifyContent: \"center\",\n  paddingLeft: \"var(--rti-s)\",\n\n  button: {\n    background: \"none\",\n    border: 0,\n    borderRadius: \"50%\",\n    cursor: \"pointer\",\n    lineHeight: \"inherit\",\n    padding: \"0 var(--rti-s)\",\n\n    \"&:hover\": {\n      color: \"var(--rti-tag-remove)\",\n    },\n  },\n});\n\nexport default function Tag({ text, remove }: TagProps) {\n  const handleOnRemove = e => {\n    e.stopPropagation();\n    remove(text);\n  };\n\n  return (\n    <span className={cc(\"rti--tag\", tagStyles)}>\n      <span>{text}</span>\n      <button\n        type=\"button\"\n        onClick={handleOnRemove}\n        aria-label={`remove ${text}`}\n      >\n        &#10005;\n      </button>\n    </span>\n  );\n}\n","import { css, setup } from \"goober\";\nimport React, { useEffect, useState } from \"react\";\n\nimport cc from \"./classnames\";\nimport Tag from \"./tag\";\n\nexport interface TagsInputProps {\n  name?: string;\n  placeHolder?: string;\n  value?: string[];\n  onChange?: (tags: string[]) => void;\n  onBlur?: any;\n  seprators?: string[];\n  onExisting?: (tag: string) => void;\n  onRemoved?: (tag: string) => void;\n}\n\n// initialize goober once\nsetup(React.createElement);\n\nconst RTIContainer = css({\n  \"--rtiBg\": \"#fff\",\n  \"--rtiBorder\": \"#ccc\",\n  \"--rtiMain\": \"#3182ce\",\n  \"--rtiRadius\": \"0.375rem\",\n  \"--rtiS\": \"0.5rem\",\n  \"--rtiTag\": \"#edf2f7\",\n  \"--rtiTagRemove\": \"#e53e3e\",\n\n  \"*\": {\n    boxSizing: \"border-box\",\n    transition: \"all 0.2s ease\",\n  },\n\n  alignItems: \"center\",\n  bg: \"var(--rti-bg)\",\n  border: \"1px solid var(--rti-border)\",\n  borderRadius: \"var(--rti-radius)\",\n  display: \"flex\",\n  flexWrap: \"wrap\",\n  gap: \"var(--rti-s)\",\n  lineHeight: 1.4,\n  padding: \"var(--rti-s)\",\n\n  \"&:focus-within\": {\n    borderColor: \"var(--rti-main)\",\n    boxShadow: \"var(--rti-main) 0px 0px 0px 1px\",\n  },\n});\n\nconst RTIInput = css({\n  border: 0,\n  outline: 0,\n  fontSize: \"inherit\",\n  lineHeight: \"inherit\",\n  width: \"50%\",\n});\n\nconst defaultSeprators = [\"Enter\"];\n\nexport const TagsInput = ({\n  name,\n  placeHolder,\n  value,\n  onChange,\n  onBlur,\n  seprators,\n  onExisting,\n  onRemoved,\n}: TagsInputProps) => {\n  const [tags, setTags] = useState(value || []);\n\n  useEffect(() => {\n    onChange && onChange(tags);\n  }, [tags]);\n\n  const handleOnKeyUp = e => {\n    e.stopPropagation();\n\n    const text = e.target.value;\n\n    if (e.key === \"Backspace\" && tags.length && !text) {\n      setTags(tags.slice(0, -1));\n    }\n\n    if (text && (seprators || defaultSeprators).includes(e.key)) {\n      if (tags.includes(text)) {\n        onExisting && onExisting(text);\n        return;\n      }\n      setTags([...tags, text]);\n      e.target.value = \"\";\n      e.preventDefault();\n    }\n  };\n\n  const onTagRemove = text => {\n    setTags(tags.filter(tag => tag !== text));\n    onRemoved && onRemoved(text);\n  };\n\n  return (\n    <div aria-labelledby={name} className={cc(\"rti--container\", RTIContainer)}>\n      {tags.map(tag => (\n        <Tag key={tag} text={tag} remove={onTagRemove} />\n      ))}\n\n      <input\n        className={cc(\"rti--input\", RTIInput)}\n        type=\"text\"\n        name={name}\n        placeholder={placeHolder}\n        onKeyDown={handleOnKeyUp}\n        onBlur={onBlur}\n      />\n    </div>\n  );\n};\n"],"names":["cc","obj","join","tagStyles","css","alignItems","background","borderRadius","display","justifyContent","paddingLeft","button","border","cursor","lineHeight","padding","color","Tag","text","remove","React","className","type","onClick","e","stopPropagation","setup","createElement","RTIContainer","boxSizing","transition","bg","flexWrap","gap","borderColor","boxShadow","RTIInput","outline","fontSize","width","defaultSeprators","name","placeHolder","onChange","onBlur","seprators","onExisting","onRemoved","useState","value","tags","setTags","useEffect","onTagRemove","filter","tag","map","key","placeholder","onKeyDown","target","length","slice","includes","preventDefault"],"mappings":"iLAOwBA,+BAAMC,2BAAAA,yBACrBA,EAAIC,KAAK,KCClB,IAAMC,EAAYC,MAAI,CACpBC,WAAY,SACZC,WAAY,iBACZC,aAAc,oBACdC,QAAS,cACTC,eAAgB,SAChBC,YAAa,eAEbC,OAAQ,CACNL,WAAY,OACZM,OAAQ,EACRL,aAAc,MACdM,OAAQ,UACRC,WAAY,UACZC,QAAS,2BAEE,CACTC,MAAO,qCAKWC,SAAMC,IAAAA,KAAMC,IAAAA,cAOhCC,wBAAMC,UAAWrB,EAAG,WAAYG,IAC9BiB,4BAAOF,GACPE,0BACEE,KAAK,SACLC,QAViB,SAAAC,GACrBA,EAAEC,kBACFN,EAAOD,2BASmBA,SCzB9BQ,QAAMN,EAAMO,eAEZ,IAAMC,EAAexB,MAAI,WACZ,qBACI,mBACF,wBACE,oBACL,oBACE,2BACM,cAEb,CACHyB,UAAW,aACXC,WAAY,iBAGdzB,WAAY,SACZ0B,GAAI,gBACJnB,OAAQ,8BACRL,aAAc,oBACdC,QAAS,OACTwB,SAAU,OACVC,IAAK,eACLnB,WAAY,IACZC,QAAS,gCAES,CAChBmB,YAAa,kBACbC,UAAW,qCAITC,EAAWhC,MAAI,CACnBQ,OAAQ,EACRyB,QAAS,EACTC,SAAU,UACVxB,WAAY,UACZyB,MAAO,QAGHC,EAAmB,CAAC,2BAED,gBACvBC,IAAAA,KACAC,IAAAA,YAEAC,IAAAA,SACAC,IAAAA,OACAC,IAAAA,UACAC,IAAAA,WACAC,IAAAA,YAEwBC,aAPxBC,OAO0C,IAAnCC,OAAMC,OAEbC,aAAU,WACRT,GAAYA,EAASO,KACpB,CAACA,QAsBEG,EAAc,SAAAnC,GAClBiC,EAAQD,EAAKI,QAAO,SAAAC,UAAOA,IAAQrC,MACnC6B,GAAaA,EAAU7B,WAIvBE,yCAAsBqB,EAAMpB,UAAWrB,EAAG,iBAAkB4B,IACzDsB,EAAKM,KAAI,SAAAD,UACRnC,gBAACH,GAAIwC,IAAKF,EAAKrC,KAAMqC,EAAKpC,OAAQkC,OAGpCjC,yBACEC,UAAWrB,EAAG,aAAcoC,GAC5Bd,KAAK,OACLmB,KAAMA,EACNiB,YAAahB,EACbiB,UApCgB,SAAAnC,GACpBA,EAAEC,sBAEIP,EAAOM,EAAEoC,OAAOX,SAER,cAAVzB,EAAEiC,KAAuBP,EAAKW,SAAW3C,GAC3CiC,EAAQD,EAAKY,MAAM,GAAI,IAGrB5C,IAAS2B,GAAaL,GAAkBuB,SAASvC,EAAEiC,KAAM,IACvDP,EAAKa,SAAS7C,eAChB4B,GAAcA,EAAW5B,IAG3BiC,YAAYD,GAAMhC,KAClBM,EAAEoC,OAAOX,MAAQ,GACjBzB,EAAEwC,mBAqBApB,OAAQA"}